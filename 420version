<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
<style>
#content {
  margin: auto 0;
  width:100%;
}
#weed {
  float: left;
  width: 100%;
  max-width:480px;
 //min-width: 360px;
  height: auto;
  padding-left: 5px;
  padding-right: 5px;
  margin: 0px 20px 20px 0px;
  -webkit-box-shadow:0 1px 4px rgba(0, 0, 0, 0.3), 0 0 40px rgba(0, 0, 0, 0.1) inset;
  -moz-box-shadow:0 1px 4px rgba(0, 0, 0, 0.3), 0 0 40px rgba(0, 0, 0, 0.1) inset;
    box-shadow:0 1px 4px rgba(0, 0, 0, 0.3), 0 0 40px rgba(0, 0, 0, 0.1) inset;
}
  
.isotope {
  height: 100%; 
}

/* categories */
.Research {
  border-top: 10px solid #B39806;
}
#Researchbutton {
  background-color: #B39806;
  color: #fff;
}

.Business {
  border-top: 10px solid #0D590C;
}
#Businessbutton {
  background-color: #0D590C;
  color: #fff;
}

.Advocacy {
  border-top: 10px solid #901B14;
}
#Advocacybutton {
  background-color: #901B14;
  color: #fff;
}

#allbutton {
  background-color: #183002;
  color: #fff;
}

/* links */
a{
  text-decoration: none;
  color: #4C211B;
}
a:hover {
  text-decoration:underline;
}
#name a {
  color: #4C211B;
}
#readmore a {
  font-weight: 700;
  color: #4C211B;
}



.headings{
   font-size: 1.1em;
   color: #4C211B;
   font-weight: 700;
   padding-bottom: 0;
}

#caption {
  text-align: right;
  font: 10px/12px Georgia, 'Times New Roman', Times, serif;;
  color: #4C211B;
  padding-bottom:2px;
}

#name {
  font-size: 42px;
  line-height: 50px;
  font-weight: 700;
}
#subhed {
 font-size: 22px;
 font-weight: 600;
 line-height:20px;
}

.label {
   text-transform: uppercase;
   font-size: 18px;
   font-weight: 600;
   line-height:20px;
  float:right;
  display: inline;
  margin: 5px;
}

#inlinephoto {
  width: 100%;
  min-width: 360px;
  height: auto;
  margin: auto;
  align: center;
  //display: block;
  //clear: both;
}

#smallinlinephoto {
  width: 100%;
  max-width: 300px;
  height: auto;
  margin: auto;
  align: center;
}

#credits {
  clear:both;
}

/* buttons */
#top {
  font: 22px/30px 'GibsonRegular',sans-serif;
  margin-bottom: 30px;
  margin: auto 0;
  text-align: center;
}
#controls {
  padding:10px;
  width: 100%;
}
.filterbutton {
  width:15%;
  min-width:100px;
  margin:3px;
}
</style>
<body>
 <p>Marijuana has come a long way.&nbsp; In just a few short years, the drug has gone from being banned throughout the United States to holding some legal status for the majority of Americans. As of April 20, four states have legalized recreational use of cannabis and 23 allow marijuana to be prescribed for medical use. </p><p>But marijuana hasnâ€™t shed its reputation as a subversive gateway drug in the collective American consciousness on its own. For years, investors, entrepreneurs, advocates and researchers have been pushing the dialogue on marijuana forward, helping to back well-heeled campaigns aimed at changing hearts, minds and laws around the country.</p><p>International Business Times identified 20 of the most influential people in the marijuana industry, as chosen by their peers. The list represents the industry in advocacy, business and research and is made up of people who those in the marijuana business say are driving the industry forward. It includes names as recognizable as Sen. Rand Paul, Snoop Dogg and Dr. Sanjay Gupta, as well as industry insiders such as Ethan Nadelmann, Brian Vicente and Dr. Trista Ghosh. These people were chosen by industry stalwarts who are journalists, business owners, investors, medical professionals and activists, all of whom have years of experience in the industry and make their living in some way from it.</p>
<p id="credits" class="headings">
Kathleen Caulderwood, Amy Nordrum and Philip Ross contributed to this report.
</p>
  
  <div id="top">
    <div class="controls" data-filter-group="type"> 
      <p class="headings">Filter by category: <br>
        <button type="button" class="btn btn-default filterbutton" id="allbutton" data-filter="*">All </button>
        <button type="button" class="btn btn-default filterbutton" id="Advocacybutton" data-filter=".Advocacy">Advocacy</button>
        <button type="button" class="btn btn-default filterbutton" id="Businessbutton" data-filter=".Business">Business</button>
        <button type="button" class="btn btn-default filterbutton" id="Researchbutton" data-filter=".Research">Research</button>
      </p>
    </div>
  </div>

<div id="content"></div>
<script id="420template" type="text/x-handlebars-template">
      <div id="weed" class="{{category}}">
        <div class="label" id="{{category}}button">{{category}}</div>
        <div id="name">{{person }}</div>
        <p id="subhed">{{subhed}} </p>
        <div>
        {{#if photosmall}}<img id="smallinlinephoto" src="{{photosmall}}">
        {{else}}
        <img id="inlinephoto" src="{{photourl }}">
        {{/if}}
        <p id="caption">{{photocredit}}</a></p>
        </div>
        {{{ profileparagraph}}}
        <p id="twitter">
          {{#if twitter}}
          <strong>Follow them on twitter:</strong> 
          <a href="https://twitter.com/{{ twitter}}" target="_blank">{{twitter}}</a>
          {{/if}}
          {{#if twitter2}}
          , <a href="https://twitter.com/{{ twitter2}}" target="_blank">{{twitter2}}</a>
          {{/if}}
           {{#if twitter3}}
          and <a href="https://twitter.com/{{ twitter3}}" target="_blank">{{twitter3}}</a>
          {{/if}}
        </p>
      </div>
</script>

<p id="credits" class="headings">
Made with <a href="https://github.com/jsoma/tabletop" target="_blank">tabletopjs</a>, <a href="http://handlebarsjs.com/"target="_blank">handlebars</a> and <a href="http://isotope.metafizzy.co/" target="_blank">isotope</a>. 
</p>

<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/handlebars.js/3.0.1/handlebars.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/tabletop.js/1.3.5/tabletop.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/2.1.1/isotope.pkgd.js" type="text/javascript"></script> 

<script type="text/javascript">


/* tabletop */

      var public_spreadsheet_url ='1ICer6JACg1dyo-5bOdShqDQWI-yz4XK70wVJEavkLBY';

      $(document).ready( function() {
        Tabletop.init( { key: public_spreadsheet_url,
                         simplesheet: true,
                         callback: showInfo,
                         orderby: "order",
                         parseNumbers: true } );
      });
        
      function showInfo(data, tabletop) {
        var source   = $("#420template").html();
        var template = Handlebars.compile(source);

        $.each( tabletop.sheets("top20").all(), function(i, fest) {
          var html = template(fest);
          $("#content").append(html);
        });
      }



/* top photo toggles */

    $(function() {
         $('#allbutton').click(function(e){ e.preventDefault();
        $('#content').isotope({ filter:'*' });
      });
      $('#Advocacybutton').click(function(e){ e.preventDefault();
        $('#content').isotope({ filter: '.Advocacy' });
      });
      $('#Businessbutton').click(function(e){ e.preventDefault();
        $('#content').isotope({ filter: '.Business' });
      });
      $('#Researchbutton').click(function(e){ e.preventDefault();
        $('#content').isotope({ filter: '.Research' });
      });
    });


</script>
